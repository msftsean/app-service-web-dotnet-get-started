---
services: app-service\web,app-service
platforms: dotnet
author: tiagocostapt
---

# ASP.NET sample for Azure App Service

This is an ASP.NET MVC web app that you can deploy to Azure App Service using Git. 

This code is the default MVC app as generated by 
[Visual Studio](https://www.visualstudio.com/products/visual-studio-community-vs).

To learn how to deploy this starter web app to App Service in a few minutes, go to 
[Get started with web apps in Azure App Service](https://azure.microsoft.com/en-us/documentation/articles/app-service-web-get-started/). 

## License

See [LICENSE](LICENSE).

## Migration to ASP.NET Core

This repository is undergoing a migration from the classic ASP.NET MVC 5 (.NET Framework 4.8) sample to ASP.NET Core 8. A new scaffolded Core project (`CoreHost/CoreHostApp`) and initial unit tests have been added to enable incremental porting.

Resources:
- [Migration Guide](MIGRATION.md)
- [Release Notes](RELEASE_NOTES.md)

High-level next steps: port views & controllers into the Core project, add integration tests, then retire the legacy project once parity is confirmed.

## Containerization & Local k3s Deployment

The ASP.NET Core app (`CoreHost/CoreHostApp`) can be built into a container image and deployed onto a local k3s cluster.

### Build & Run Locally (Container Only)

```bash
docker build -t corehost:local .
docker run --rm -p 8080:8080 corehost:local
# Browse: http://localhost:8080
```

### Deploy to k3s
Assumes a local k3s cluster is running and `kubectl` points to it.

```bash
docker build -t corehost:local .
kubectl apply -f k8s/corehost.yaml
kubectl -n corehost rollout status deploy/corehost
# NodePort: http://<node-ip>:30080
# (Optional) Ingress: add '127.0.0.1 corehost.local' to /etc/hosts then browse http://corehost.local
```

### Notes
- Image tag `corehost:local` uses `imagePullPolicy: IfNotPresent` so k3s will use the locally built image.
- Adjust resource requests/limits in `k8s/corehost.yaml` as needed.
- Replace NodePort with LoadBalancer or update Ingress annotations per your ingress controller.
